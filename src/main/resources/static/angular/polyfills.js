"use strict";(self.webpackChunkangularPlayer=self.webpackChunkangularPlayer||[]).push([[429],{435:(ge,E,o)=>{o(583);var D=o(97);window.adapter=D.Z},463:ge=>{const E={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};E.localCName=E.generateIdentifier(),E.splitLines=function(o){return o.trim().split("\n").map(c=>c.trim())},E.splitSections=function(o){return o.split("\nm=").map((C,D)=>(D>0?"m="+C:C).trim()+"\r\n")},E.getDescription=function(o){const c=E.splitSections(o);return c&&c[0]},E.getMediaSections=function(o){const c=E.splitSections(o);return c.shift(),c},E.matchPrefix=function(o,c){return E.splitLines(o).filter(C=>0===C.indexOf(c))},E.parseCandidate=function(o){let c;c=0===o.indexOf("a=candidate:")?o.substring(12).split(" "):o.substring(10).split(" ");const C={foundation:c[0],component:{1:"rtp",2:"rtcp"}[c[1]]||c[1],protocol:c[2].toLowerCase(),priority:parseInt(c[3],10),ip:c[4],address:c[4],port:parseInt(c[5],10),type:c[7]};for(let D=8;D<c.length;D+=2)switch(c[D]){case"raddr":C.relatedAddress=c[D+1];break;case"rport":C.relatedPort=parseInt(c[D+1],10);break;case"tcptype":C.tcpType=c[D+1];break;case"ufrag":C.ufrag=c[D+1],C.usernameFragment=c[D+1];break;default:void 0===C[c[D]]&&(C[c[D]]=c[D+1])}return C},E.writeCandidate=function(o){const c=[];c.push(o.foundation);const C=o.component;c.push("rtp"===C?1:"rtcp"===C?2:C),c.push(o.protocol.toUpperCase()),c.push(o.priority),c.push(o.address||o.ip),c.push(o.port);const D=o.type;return c.push("typ"),c.push(D),"host"!==D&&o.relatedAddress&&o.relatedPort&&(c.push("raddr"),c.push(o.relatedAddress),c.push("rport"),c.push(o.relatedPort)),o.tcpType&&"tcp"===o.protocol.toLowerCase()&&(c.push("tcptype"),c.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(c.push("ufrag"),c.push(o.usernameFragment||o.ufrag)),"candidate:"+c.join(" ")},E.parseIceOptions=function(o){return o.substr(14).split(" ")},E.parseRtpMap=function(o){let c=o.substr(9).split(" ");const C={payloadType:parseInt(c.shift(),10)};return c=c[0].split("/"),C.name=c[0],C.clockRate=parseInt(c[1],10),C.channels=3===c.length?parseInt(c[2],10):1,C.numChannels=C.channels,C},E.writeRtpMap=function(o){let c=o.payloadType;void 0!==o.preferredPayloadType&&(c=o.preferredPayloadType);const C=o.channels||o.numChannels||1;return"a=rtpmap:"+c+" "+o.name+"/"+o.clockRate+(1!==C?"/"+C:"")+"\r\n"},E.parseExtmap=function(o){const c=o.substr(9).split(" ");return{id:parseInt(c[0],10),direction:c[0].indexOf("/")>0?c[0].split("/")[1]:"sendrecv",uri:c[1]}},E.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&"sendrecv"!==o.direction?"/"+o.direction:"")+" "+o.uri+"\r\n"},E.parseFmtp=function(o){const c={};let C;const D=o.substr(o.indexOf(" ")+1).split(";");for(let Z=0;Z<D.length;Z++)C=D[Z].trim().split("="),c[C[0].trim()]=C[1];return c},E.writeFmtp=function(o){let c="",C=o.payloadType;if(void 0!==o.preferredPayloadType&&(C=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const D=[];Object.keys(o.parameters).forEach(Z=>{D.push(void 0!==o.parameters[Z]?Z+"="+o.parameters[Z]:Z)}),c+="a=fmtp:"+C+" "+D.join(";")+"\r\n"}return c},E.parseRtcpFb=function(o){const c=o.substr(o.indexOf(" ")+1).split(" ");return{type:c.shift(),parameter:c.join(" ")}},E.writeRtcpFb=function(o){let c="",C=o.payloadType;return void 0!==o.preferredPayloadType&&(C=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(D=>{c+="a=rtcp-fb:"+C+" "+D.type+(D.parameter&&D.parameter.length?" "+D.parameter:"")+"\r\n"}),c},E.parseSsrcMedia=function(o){const c=o.indexOf(" "),C={ssrc:parseInt(o.substr(7,c-7),10)},D=o.indexOf(":",c);return D>-1?(C.attribute=o.substr(c+1,D-c-1),C.value=o.substr(D+1)):C.attribute=o.substr(c+1),C},E.parseSsrcGroup=function(o){const c=o.substr(13).split(" ");return{semantics:c.shift(),ssrcs:c.map(C=>parseInt(C,10))}},E.getMid=function(o){const c=E.matchPrefix(o,"a=mid:")[0];if(c)return c.substr(6)},E.parseFingerprint=function(o){const c=o.substr(14).split(" ");return{algorithm:c[0].toLowerCase(),value:c[1].toUpperCase()}},E.getDtlsParameters=function(o,c){return{role:"auto",fingerprints:E.matchPrefix(o+c,"a=fingerprint:").map(E.parseFingerprint)}},E.writeDtlsParameters=function(o,c){let C="a=setup:"+c+"\r\n";return o.fingerprints.forEach(D=>{C+="a=fingerprint:"+D.algorithm+" "+D.value+"\r\n"}),C},E.parseCryptoLine=function(o){const c=o.substr(9).split(" ");return{tag:parseInt(c[0],10),cryptoSuite:c[1],keyParams:c[2],sessionParams:c.slice(3)}},E.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+("object"==typeof o.keyParams?E.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+"\r\n"},E.parseCryptoKeyParams=function(o){if(0!==o.indexOf("inline:"))return null;const c=o.substr(7).split("|");return{keyMethod:"inline",keySalt:c[0],lifeTime:c[1],mkiValue:c[2]?c[2].split(":")[0]:void 0,mkiLength:c[2]?c[2].split(":")[1]:void 0}},E.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},E.getCryptoParameters=function(o,c){return E.matchPrefix(o+c,"a=crypto:").map(E.parseCryptoLine)},E.getIceParameters=function(o,c){const C=E.matchPrefix(o+c,"a=ice-ufrag:")[0],D=E.matchPrefix(o+c,"a=ice-pwd:")[0];return C&&D?{usernameFragment:C.substr(12),password:D.substr(10)}:null},E.writeIceParameters=function(o){let c="a=ice-ufrag:"+o.usernameFragment+"\r\na=ice-pwd:"+o.password+"\r\n";return o.iceLite&&(c+="a=ice-lite\r\n"),c},E.parseRtpParameters=function(o){const c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},D=E.splitLines(o)[0].split(" ");for(let Z=3;Z<D.length;Z++){const ne=D[Z],ae=E.matchPrefix(o,"a=rtpmap:"+ne+" ")[0];if(ae){const w=E.parseRtpMap(ae),ee=E.matchPrefix(o,"a=fmtp:"+ne+" ");switch(w.parameters=ee.length?E.parseFmtp(ee[0]):{},w.rtcpFeedback=E.matchPrefix(o,"a=rtcp-fb:"+ne+" ").map(E.parseRtcpFb),c.codecs.push(w),w.name.toUpperCase()){case"RED":case"ULPFEC":c.fecMechanisms.push(w.name.toUpperCase())}}}return E.matchPrefix(o,"a=extmap:").forEach(Z=>{c.headerExtensions.push(E.parseExtmap(Z))}),c},E.writeRtpDescription=function(o,c){let C="";C+="m="+o+" ",C+=c.codecs.length>0?"9":"0",C+=" UDP/TLS/RTP/SAVPF ",C+=c.codecs.map(Z=>void 0!==Z.preferredPayloadType?Z.preferredPayloadType:Z.payloadType).join(" ")+"\r\n",C+="c=IN IP4 0.0.0.0\r\n",C+="a=rtcp:9 IN IP4 0.0.0.0\r\n",c.codecs.forEach(Z=>{C+=E.writeRtpMap(Z),C+=E.writeFmtp(Z),C+=E.writeRtcpFb(Z)});let D=0;return c.codecs.forEach(Z=>{Z.maxptime>D&&(D=Z.maxptime)}),D>0&&(C+="a=maxptime:"+D+"\r\n"),c.headerExtensions&&c.headerExtensions.forEach(Z=>{C+=E.writeExtmap(Z)}),C},E.parseRtpEncodingParameters=function(o){const c=[],C=E.parseRtpParameters(o),D=-1!==C.fecMechanisms.indexOf("RED"),Z=-1!==C.fecMechanisms.indexOf("ULPFEC"),ne=E.matchPrefix(o,"a=ssrc:").map(le=>E.parseSsrcMedia(le)).filter(le=>"cname"===le.attribute),ae=ne.length>0&&ne[0].ssrc;let w;const ee=E.matchPrefix(o,"a=ssrc-group:FID").map(le=>le.substr(17).split(" ").map(W=>parseInt(W,10)));ee.length>0&&ee[0].length>1&&ee[0][0]===ae&&(w=ee[0][1]),C.codecs.forEach(le=>{if("RTX"===le.name.toUpperCase()&&le.parameters.apt){let de={ssrc:ae,codecPayloadType:parseInt(le.parameters.apt,10)};ae&&w&&(de.rtx={ssrc:w}),c.push(de),D&&(de=JSON.parse(JSON.stringify(de)),de.fec={ssrc:ae,mechanism:Z?"red+ulpfec":"red"},c.push(de))}}),0===c.length&&ae&&c.push({ssrc:ae});let ue=E.matchPrefix(o,"b=");return ue.length&&(ue=0===ue[0].indexOf("b=TIAS:")?parseInt(ue[0].substr(7),10):0===ue[0].indexOf("b=AS:")?1e3*parseInt(ue[0].substr(5),10)*.95-16e3:void 0,c.forEach(le=>{le.maxBitrate=ue})),c},E.parseRtcpParameters=function(o){const c={},C=E.matchPrefix(o,"a=ssrc:").map(ne=>E.parseSsrcMedia(ne)).filter(ne=>"cname"===ne.attribute)[0];C&&(c.cname=C.value,c.ssrc=C.ssrc);const D=E.matchPrefix(o,"a=rtcp-rsize");c.reducedSize=D.length>0,c.compound=0===D.length;const Z=E.matchPrefix(o,"a=rtcp-mux");return c.mux=Z.length>0,c},E.writeRtcpParameters=function(o){let c="";return o.reducedSize&&(c+="a=rtcp-rsize\r\n"),o.mux&&(c+="a=rtcp-mux\r\n"),void 0!==o.ssrc&&o.cname&&(c+="a=ssrc:"+o.ssrc+" cname:"+o.cname+"\r\n"),c},E.parseMsid=function(o){let c;const C=E.matchPrefix(o,"a=msid:");if(1===C.length)return c=C[0].substr(7).split(" "),{stream:c[0],track:c[1]};const D=E.matchPrefix(o,"a=ssrc:").map(Z=>E.parseSsrcMedia(Z)).filter(Z=>"msid"===Z.attribute);return D.length>0?(c=D[0].value.split(" "),{stream:c[0],track:c[1]}):void 0},E.parseSctpDescription=function(o){const c=E.parseMLine(o),C=E.matchPrefix(o,"a=max-message-size:");let D;C.length>0&&(D=parseInt(C[0].substr(19),10)),isNaN(D)&&(D=65536);const Z=E.matchPrefix(o,"a=sctp-port:");if(Z.length>0)return{port:parseInt(Z[0].substr(12),10),protocol:c.fmt,maxMessageSize:D};const ne=E.matchPrefix(o,"a=sctpmap:");if(ne.length>0){const ae=ne[0].substr(10).split(" ");return{port:parseInt(ae[0],10),protocol:ae[1],maxMessageSize:D}}},E.writeSctpDescription=function(o,c){let C=[];return C="DTLS/SCTP"!==o.protocol?["m="+o.kind+" 9 "+o.protocol+" "+c.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+c.port+"\r\n"]:["m="+o.kind+" 9 "+o.protocol+" "+c.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+c.port+" "+c.protocol+" 65535\r\n"],void 0!==c.maxMessageSize&&C.push("a=max-message-size:"+c.maxMessageSize+"\r\n"),C.join("")},E.generateSessionId=function(){return Math.random().toString().substr(2,21)},E.writeSessionBoilerplate=function(o,c,C){let D;const Z=void 0!==c?c:2;return D=o||E.generateSessionId(),"v=0\r\no="+(C||"thisisadapterortc")+" "+D+" "+Z+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},E.getDirection=function(o,c){const C=E.splitLines(o);for(let D=0;D<C.length;D++)switch(C[D]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return C[D].substr(2)}return c?E.getDirection(c):"sendrecv"},E.getKind=function(o){return E.splitLines(o)[0].split(" ")[0].substr(2)},E.isRejected=function(o){return"0"===o.split(" ",2)[1]},E.parseMLine=function(o){const C=E.splitLines(o)[0].substr(2).split(" ");return{kind:C[0],port:parseInt(C[1],10),protocol:C[2],fmt:C.slice(3).join(" ")}},E.parseOLine=function(o){const C=E.matchPrefix(o,"o=")[0].substr(2).split(" ");return{username:C[0],sessionId:C[1],sessionVersion:parseInt(C[2],10),netType:C[3],addressType:C[4],address:C[5]}},E.isValidSDP=function(o){if("string"!=typeof o||0===o.length)return!1;const c=E.splitLines(o);for(let C=0;C<c.length;C++)if(c[C].length<2||"="!==c[C].charAt(1))return!1;return!0},ge.exports=E},97:(ge,E,o)=>{o.d(E,{Z:()=>P});var c={};o.r(c),o.d(c,{fixNegotiationNeeded:()=>ke,shimAddTrackRemoveTrack:()=>Je,shimAddTrackRemoveTrackWithNative:()=>We,shimGetDisplayMedia:()=>nt,shimGetSendersWithDtmf:()=>Ve,shimGetStats:()=>Oe,shimGetUserMedia:()=>ze,shimMediaStream:()=>Me,shimOnTrack:()=>je,shimPeerConnection:()=>fe,shimSenderReceiverGetStats:()=>Be});var C={};o.r(C),o.d(C,{shimAddTransceiver:()=>ot,shimCreateAnswer:()=>Ye,shimCreateOffer:()=>Xe,shimGetDisplayMedia:()=>pt,shimGetParameters:()=>pe,shimGetUserMedia:()=>ye,shimOnTrack:()=>Te,shimPeerConnection:()=>Ae,shimRTCDataChannel:()=>Re,shimReceiverGetStats:()=>st,shimRemoveStream:()=>it,shimSenderGetStats:()=>Ne});var D={};o.r(D),o.d(D,{shimAudioContext:()=>Ze,shimCallbacksAPI:()=>at,shimConstraints:()=>ct,shimCreateOfferLegacy:()=>we,shimGetUserMedia:()=>$e,shimLocalStreamsAPI:()=>Ke,shimRTCIceServerUrls:()=>ut,shimRemoteStreamsAPI:()=>qe,shimTrackEventTransceiver:()=>Qe});var Z={};o.r(Z),o.d(Z,{removeExtmapAllowMixed:()=>s,shimAddIceCandidateNullOrEmpty:()=>f,shimConnectionState:()=>et,shimMaxMessageSize:()=>Ge,shimParameterlessSetLocalDescription:()=>g,shimRTCIceCandidate:()=>Ce,shimSendThrowTypeError:()=>Fe});let ne=!0,ae=!0;function w(e,r,u){const t=e.match(r);return t&&t.length>=u&&parseInt(t[u],10)}function ee(e,r,u){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.addEventListener;t.addEventListener=function(l,a){if(l!==r)return n.apply(this,arguments);const v=d=>{const y=u(d);y&&(a.handleEvent?a.handleEvent(y):a(y))};return this._eventMap=this._eventMap||{},this._eventMap[r]||(this._eventMap[r]=new Map),this._eventMap[r].set(a,v),n.apply(this,[l,v])};const p=t.removeEventListener;t.removeEventListener=function(l,a){if(l!==r||!this._eventMap||!this._eventMap[r])return p.apply(this,arguments);if(!this._eventMap[r].has(a))return p.apply(this,arguments);const v=this._eventMap[r].get(a);return this._eventMap[r].delete(a),0===this._eventMap[r].size&&delete this._eventMap[r],0===Object.keys(this._eventMap).length&&delete this._eventMap,p.apply(this,[l,v])},Object.defineProperty(t,"on"+r,{get(){return this["_on"+r]},set(l){this["_on"+r]&&(this.removeEventListener(r,this["_on"+r]),delete this["_on"+r]),l&&this.addEventListener(r,this["_on"+r]=l)},enumerable:!0,configurable:!0})}function ue(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(ne=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function le(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(ae=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function de(){if("object"==typeof window){if(ne)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function W(e,r){!ae||console.warn(e+" is deprecated, please use "+r+" instead.")}function Se(e){return"[object Object]"===Object.prototype.toString.call(e)}function se(e){return Se(e)?Object.keys(e).reduce(function(r,u){const t=Se(e[u]),n=t?se(e[u]):e[u],p=t&&!Object.keys(n).length;return void 0===n||p?r:Object.assign(r,{[u]:n})},{}):e}function He(e,r,u){!r||u.has(r.id)||(u.set(r.id,r),Object.keys(r).forEach(t=>{t.endsWith("Id")?He(e,e.get(r[t]),u):t.endsWith("Ids")&&r[t].forEach(n=>{He(e,e.get(n),u)})}))}function Le(e,r,u){const t=u?"outbound-rtp":"inbound-rtp",n=new Map;if(null===r)return n;const p=[];return e.forEach(l=>{"track"===l.type&&l.trackIdentifier===r.id&&p.push(l)}),p.forEach(l=>{e.forEach(a=>{a.type===t&&a.trackId===l.id&&He(e,a,n)})}),n}const rt=de;function ze(e,r){const u=e&&e.navigator;if(!u.mediaDevices)return;const t=function(a){if("object"!=typeof a||a.mandatory||a.optional)return a;const v={};return Object.keys(a).forEach(d=>{if("require"===d||"advanced"===d||"mediaSource"===d)return;const y="object"==typeof a[d]?a[d]:{ideal:a[d]};void 0!==y.exact&&"number"==typeof y.exact&&(y.min=y.max=y.exact);const R=function(S,k){return S?S+k.charAt(0).toUpperCase()+k.slice(1):"deviceId"===k?"sourceId":k};if(void 0!==y.ideal){v.optional=v.optional||[];let S={};"number"==typeof y.ideal?(S[R("min",d)]=y.ideal,v.optional.push(S),S={},S[R("max",d)]=y.ideal,v.optional.push(S)):(S[R("",d)]=y.ideal,v.optional.push(S))}void 0!==y.exact&&"number"!=typeof y.exact?(v.mandatory=v.mandatory||{},v.mandatory[R("",d)]=y.exact):["min","max"].forEach(S=>{void 0!==y[S]&&(v.mandatory=v.mandatory||{},v.mandatory[R(S,d)]=y[S])})}),a.advanced&&(v.optional=(v.optional||[]).concat(a.advanced)),v},n=function(a,v){if(r.version>=61)return v(a);if((a=JSON.parse(JSON.stringify(a)))&&"object"==typeof a.audio){const d=function(y,R,S){R in y&&!(S in y)&&(y[S]=y[R],delete y[R])};d((a=JSON.parse(JSON.stringify(a))).audio,"autoGainControl","googAutoGainControl"),d(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=t(a.audio)}if(a&&"object"==typeof a.video){let d=a.video.facingMode;d=d&&("object"==typeof d?d:{ideal:d});const y=r.version<66;if(d&&("user"===d.exact||"environment"===d.exact||"user"===d.ideal||"environment"===d.ideal)&&(!u.mediaDevices.getSupportedConstraints||!u.mediaDevices.getSupportedConstraints().facingMode||y)){let R;if(delete a.video.facingMode,"environment"===d.exact||"environment"===d.ideal?R=["back","rear"]:("user"===d.exact||"user"===d.ideal)&&(R=["front"]),R)return u.mediaDevices.enumerateDevices().then(S=>{let k=(S=S.filter(J=>"videoinput"===J.kind)).find(J=>R.some(U=>J.label.toLowerCase().includes(U)));return!k&&S.length&&R.includes("back")&&(k=S[S.length-1]),k&&(a.video.deviceId=d.exact?{exact:k.deviceId}:{ideal:k.deviceId}),a.video=t(a.video),rt("chrome: "+JSON.stringify(a)),v(a)})}a.video=t(a.video)}return rt("chrome: "+JSON.stringify(a)),v(a)},p=function(a){return r.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(u.getUserMedia=function(a,v,d){n(a,y=>{u.webkitGetUserMedia(y,v,R=>{d&&d(p(R))})})}.bind(u),u.mediaDevices.getUserMedia){const a=u.mediaDevices.getUserMedia.bind(u.mediaDevices);u.mediaDevices.getUserMedia=function(v){return n(v,d=>a(d).then(y=>{if(d.audio&&!y.getAudioTracks().length||d.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(R=>{R.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(p(y))))}}}function nt(e,r){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof r)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");e.navigator.mediaDevices.getDisplayMedia=function(t){return r(t).then(n=>{const p=t.video&&t.video.width,l=t.video&&t.video.height;return t.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n,maxFrameRate:t.video&&t.video.frameRate||3}},p&&(t.video.mandatory.maxWidth=p),l&&(t.video.mandatory.maxHeight=l),e.navigator.mediaDevices.getUserMedia(t)})}}}function Me(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function je(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(u){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=u)},enumerable:!0,configurable:!0});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let p;p=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===n.track.id):{track:n.track};const l=new Event("track");l.track=n.track,l.receiver=p,l.transceiver={receiver:p},l.streams=[t.stream],this.dispatchEvent(l)}),t.stream.getTracks().forEach(n=>{let p;p=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===n.id):{track:n};const l=new Event("track");l.track=n,l.receiver=p,l.transceiver={receiver:p},l.streams=[t.stream],this.dispatchEvent(l)})},this.addEventListener("addstream",this._ontrackpoly)),r.apply(this,arguments)}}else ee(e,"track",r=>(r.transceiver||Object.defineProperty(r,"transceiver",{value:{receiver:r.receiver}}),r))}function Ve(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const r=function(n,p){return{track:p,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===p.kind?n.createDTMFSender(p):null),this._dtmf},_pc:n}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,v){let d=n.apply(this,arguments);return d||(d=r(this,a),this._senders.push(d)),d};const p=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){p.apply(this,arguments);const v=this._senders.indexOf(a);-1!==v&&this._senders.splice(v,1)}}const u=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(p){this._senders=this._senders||[],u.apply(this,[p]),p.getTracks().forEach(l=>{this._senders.push(r(this,l))})};const t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(p){this._senders=this._senders||[],t.apply(this,[p]),p.getTracks().forEach(l=>{const a=this._senders.find(v=>v.track===l);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const t=r.apply(this,[]);return t.forEach(n=>n._pc=this),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function Oe(e){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[t,n,p]=arguments;if(arguments.length>0&&"function"==typeof t)return r.apply(this,arguments);if(0===r.length&&(0===arguments.length||"function"!=typeof t))return r.apply(this,[]);const l=function(v){const d={};return v.result().forEach(R=>{const S={id:R.id,timestamp:R.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[R.type]||R.type};R.names().forEach(k=>{S[k]=R.stat(k)}),d[S.id]=S}),d},a=function(v){return new Map(Object.keys(v).map(d=>[d,v[d]]))};return arguments.length>=2?r.apply(this,[function(d){n(a(l(d)))},t]):new Promise((v,d)=>{r.apply(this,[function(y){v(a(l(y)))},d])}).then(n,p)}}function Be(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const u=e.RTCPeerConnection.prototype.getSenders;u&&(e.RTCPeerConnection.prototype.getSenders=function(){const p=u.apply(this,[]);return p.forEach(l=>l._pc=this),p});const t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){const p=t.apply(this,arguments);return p._pc=this,p}),e.RTCRtpSender.prototype.getStats=function(){const p=this;return this._pc.getStats().then(l=>Le(l,p.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const u=e.RTCPeerConnection.prototype.getReceivers;u&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=u.apply(this,[]);return n.forEach(p=>p._pc=this),n}),ee(e,"track",t=>(t.receiver._pc=t.srcElement,t)),e.RTCRtpReceiver.prototype.getStats=function(){const n=this;return this._pc.getStats().then(p=>Le(p,n.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const t=arguments[0];let n,p,l;return this.getSenders().forEach(a=>{a.track===t&&(n?l=!0:n=a)}),this.getReceivers().forEach(a=>(a.track===t&&(p?l=!0:p=a),a.track===t)),l||n&&p?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():p?p.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}function We(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(l=>this._shimmedLocalStreams[l][0])};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,a){if(!a)return r.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const v=r.apply(this,arguments);return this._shimmedLocalStreams[a.id]?-1===this._shimmedLocalStreams[a.id].indexOf(v)&&this._shimmedLocalStreams[a.id].push(v):this._shimmedLocalStreams[a.id]=[a,v],v};const u=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){this._shimmedLocalStreams=this._shimmedLocalStreams||{},l.getTracks().forEach(d=>{if(this.getSenders().find(R=>R.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();u.apply(this,arguments);const v=this.getSenders().filter(d=>-1===a.indexOf(d));this._shimmedLocalStreams[l.id]=[l].concat(v)};const t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(l){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[l.id],t.apply(this,arguments)};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},l&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const v=this._shimmedLocalStreams[a].indexOf(l);-1!==v&&this._shimmedLocalStreams[a].splice(v,1),1===this._shimmedLocalStreams[a].length&&delete this._shimmedLocalStreams[a]}),n.apply(this,arguments)}}function Je(e,r){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&r.version>=65)return We(e);const u=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const y=u.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(R=>this._reverseStreams[R.id])};const t=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(R=>{if(this.getSenders().find(k=>k.track===R))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const R=new e.MediaStream(y.getTracks());this._streams[y.id]=R,this._reverseStreams[R.id]=y,y=R}t.apply(this,[y])};const n=e.RTCPeerConnection.prototype.removeStream;function p(d,y){let R=y.sdp;return Object.keys(d._reverseStreams||[]).forEach(S=>{const k=d._reverseStreams[S];R=R.replace(new RegExp(d._streams[k.id].id,"g"),k.id)}),new RTCSessionDescription({type:y.type,sdp:R})}function l(d,y){let R=y.sdp;return Object.keys(d._reverseStreams||[]).forEach(S=>{const k=d._reverseStreams[S],J=d._streams[k.id];R=R.replace(new RegExp(k.id,"g"),J.id)}),new RTCSessionDescription({type:y.type,sdp:R})}e.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},n.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},e.RTCPeerConnection.prototype.addTrack=function(y,R){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(1!==S.length||!S[0].getTracks().find(U=>U===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(U=>U.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const J=this._streams[R.id];if(J)J.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const U=new e.MediaStream([y]);this._streams[R.id]=U,this._reverseStreams[U.id]=R,this.addStream(U)}return this.getSenders().find(U=>U.track===y)},["createOffer","createAnswer"].forEach(function(d){const y=e.RTCPeerConnection.prototype[d],R={[d](){const S=arguments;return arguments.length&&"function"==typeof arguments[0]?y.apply(this,[J=>{const U=p(this,J);S[0].apply(null,[U])},J=>{S[1]&&S[1].apply(null,J)},arguments[2]]):y.apply(this,arguments).then(J=>p(this,J))}};e.RTCPeerConnection.prototype[d]=R[d]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=l(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const v=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const d=v.get.apply(this);return""===d.type?d:p(this,d)}}),e.RTCPeerConnection.prototype.removeTrack=function(y){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(y._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let S;this._streams=this._streams||{},Object.keys(this._streams).forEach(k=>{this._streams[k].getTracks().find(U=>y.track===U)&&(S=this._streams[k])}),S&&(1===S.getTracks().length?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function fe(e,r){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(u){const t=e.RTCPeerConnection.prototype[u],n={[u](){return arguments[0]=new("addIceCandidate"===u?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};e.RTCPeerConnection.prototype[u]=n[u]})}function ke(e,r){ee(e,"negotiationneeded",u=>{const t=u.target;if(!(r.version<72||t.getConfiguration&&"plan-b"===t.getConfiguration().sdpSemantics)||"stable"===t.signalingState)return u})}function ye(e,r){const u=e&&e.navigator,t=e&&e.MediaStreamTrack;if(u.getUserMedia=function(n,p,l){W("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),u.mediaDevices.getUserMedia(n).then(p,l)},!(r.version>55&&"autoGainControl"in u.mediaDevices.getSupportedConstraints())){const n=function(l,a,v){a in l&&!(v in l)&&(l[v]=l[a],delete l[a])},p=u.mediaDevices.getUserMedia.bind(u.mediaDevices);if(u.mediaDevices.getUserMedia=function(l){return"object"==typeof l&&"object"==typeof l.audio&&(l=JSON.parse(JSON.stringify(l)),n(l.audio,"autoGainControl","mozAutoGainControl"),n(l.audio,"noiseSuppression","mozNoiseSuppression")),p(l)},t&&t.prototype.getSettings){const l=t.prototype.getSettings;t.prototype.getSettings=function(){const a=l.apply(this,arguments);return n(a,"mozAutoGainControl","autoGainControl"),n(a,"mozNoiseSuppression","noiseSuppression"),a}}if(t&&t.prototype.applyConstraints){const l=t.prototype.applyConstraints;t.prototype.applyConstraints=function(a){return"audio"===this.kind&&"object"==typeof a&&(a=JSON.parse(JSON.stringify(a)),n(a,"autoGainControl","mozAutoGainControl"),n(a,"noiseSuppression","mozNoiseSuppression")),l.apply(this,[a])}}}}function pt(e,r){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(t){if(!t||!t.video){const n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===t.video?t.video={mediaSource:r}:t.video.mediaSource=r,e.navigator.mediaDevices.getUserMedia(t)})}function Te(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ae(e,r){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const p=e.RTCPeerConnection.prototype[n],l={[n](){return arguments[0]=new("addIceCandidate"===n?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),p.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=l[n]});const u={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[p,l,a]=arguments;return t.apply(this,[p||null]).then(v=>{if(r.version<53&&!l)try{v.forEach(d=>{d.type=u[d.type]||d.type})}catch(d){if("TypeError"!==d.name)throw d;v.forEach((y,R)=>{v.set(R,Object.assign({},y,{type:u[y.type]||y.type}))})}return v}).then(l,a)}}function Ne(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const n=r.apply(this,[]);return n.forEach(p=>p._pc=this),n});const u=e.RTCPeerConnection.prototype.addTrack;u&&(e.RTCPeerConnection.prototype.addTrack=function(){const n=u.apply(this,arguments);return n._pc=this,n}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function st(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const t=r.apply(this,[]);return t.forEach(n=>n._pc=this),t}),ee(e,"track",u=>(u.receiver._pc=u.srcElement,u)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function it(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(u){W("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&u.getTracks().includes(t.track)&&this.removeTrack(t)})})}function Re(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ot(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype.addTransceiver;r&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const t=arguments[1],n=t&&"sendEncodings"in t;n&&t.sendEncodings.forEach(l=>{if("rid"in l&&!/^[a-z0-9]{0,16}$/i.test(l.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in l&&!(parseFloat(l.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in l&&!(parseFloat(l.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const p=r.apply(this,arguments);if(n){const{sender:l}=p,a=l.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=t.sendEncodings,l.sendEncodings=t.sendEncodings,this.setParametersPromises.push(l.setParameters(a).then(()=>{delete l.sendEncodings}).catch(()=>{delete l.sendEncodings})))}return p})}function pe(e){if("object"!=typeof e||!e.RTCRtpSender)return;const r=e.RTCRtpSender.prototype.getParameters;r&&(e.RTCRtpSender.prototype.getParameters=function(){const t=r.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function Xe(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}function Ye(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}function Ke(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(n=>r.call(this,n,t)),t.getVideoTracks().forEach(n=>r.call(this,n,t))},e.RTCPeerConnection.prototype.addTrack=function(t,...n){return n&&n.forEach(p=>{this._localStreams?this._localStreams.includes(p)||this._localStreams.push(p):this._localStreams=[p]}),r.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(u){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(u);if(-1===t)return;this._localStreams.splice(t,1);const n=u.getTracks();this.getSenders().forEach(p=>{n.includes(p.track)&&this.removeTrack(p)})})}}function qe(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(u){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=u),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(n=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(n))return;this._remoteStreams.push(n);const p=new Event("addstream");p.stream=n,this.dispatchEvent(p)})})}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(n){n.streams.forEach(p=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(p)>=0)return;t._remoteStreams.push(p);const l=new Event("addstream");l.stream=p,t.dispatchEvent(l)})}),r.apply(t,arguments)}}}function at(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,u=r.createOffer,t=r.createAnswer,n=r.setLocalDescription,p=r.setRemoteDescription,l=r.addIceCandidate;r.createOffer=function(d,y){const R=arguments.length>=2?arguments[2]:arguments[0],S=u.apply(this,[R]);return y?(S.then(d,y),Promise.resolve()):S},r.createAnswer=function(d,y){const R=arguments.length>=2?arguments[2]:arguments[0],S=t.apply(this,[R]);return y?(S.then(d,y),Promise.resolve()):S};let a=function(v,d,y){const R=n.apply(this,[v]);return y?(R.then(d,y),Promise.resolve()):R};r.setLocalDescription=a,a=function(v,d,y){const R=p.apply(this,[v]);return y?(R.then(d,y),Promise.resolve()):R},r.setRemoteDescription=a,a=function(v,d,y){const R=l.apply(this,[v]);return y?(R.then(d,y),Promise.resolve()):R},r.addIceCandidate=a}function $e(e){const r=e&&e.navigator;if(r.mediaDevices&&r.mediaDevices.getUserMedia){const u=r.mediaDevices,t=u.getUserMedia.bind(u);r.mediaDevices.getUserMedia=n=>t(ct(n))}!r.getUserMedia&&r.mediaDevices&&r.mediaDevices.getUserMedia&&(r.getUserMedia=function(t,n,p){r.mediaDevices.getUserMedia(t).then(n,p)}.bind(r))}function ct(e){return e&&void 0!==e.video?Object.assign({},e,{video:se(e.video)}):e}function ut(e){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection;e.RTCPeerConnection=function(t,n){if(t&&t.iceServers){const p=[];for(let l=0;l<t.iceServers.length;l++){let a=t.iceServers[l];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(W("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,p.push(a)):p.push(t.iceServers[l])}t.iceServers=p}return new r(t,n)},e.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in r&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>r.generateCertificate})}function Qe(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function we(e){const r=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);const n=this.getTransceivers().find(l=>"audio"===l.receiver.track.kind);!1===t.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0===t.offerToReceiveAudio&&!n&&this.addTransceiver("audio",{direction:"recvonly"}),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);const p=this.getTransceivers().find(l=>"video"===l.receiver.track.kind);!1===t.offerToReceiveVideo&&p?"sendrecv"===p.direction?p.setDirection?p.setDirection("sendonly"):p.direction="sendonly":"recvonly"===p.direction&&(p.setDirection?p.setDirection("inactive"):p.direction="inactive"):!0===t.offerToReceiveVideo&&!p&&this.addTransceiver("video",{direction:"recvonly"})}return r.apply(this,arguments)}}function Ze(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var lt=o(463),Pe=o.n(lt);function Ce(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const r=e.RTCIceCandidate;e.RTCIceCandidate=function(t){if("object"==typeof t&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){const n=new r(t),p=Pe().parseCandidate(t.candidate),l=Object.assign(n,p);return l.toJSON=function(){return{candidate:l.candidate,sdpMid:l.sdpMid,sdpMLineIndex:l.sdpMLineIndex,usernameFragment:l.usernameFragment}},l}return new r(t)},e.RTCIceCandidate.prototype=r.prototype,ee(e,"icecandidate",u=>(u.candidate&&Object.defineProperty(u,"candidate",{value:new e.RTCIceCandidate(u.candidate),writable:"false"}),u))}function Ge(e,r){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const u=function(a){if(!a||!a.sdp)return!1;const v=Pe().splitSections(a.sdp);return v.shift(),v.some(d=>{const y=Pe().parseMLine(d);return y&&"application"===y.kind&&-1!==y.protocol.indexOf("SCTP")})},t=function(a){const v=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===v||v.length<2)return-1;const d=parseInt(v[1],10);return d!=d?-1:d},n=function(a){let v=65536;return"firefox"===r.browser&&(v=r.version<57?-1===a?16384:2147483637:r.version<60?57===r.version?65535:65536:2147483637),v},p=function(a,v){let d=65536;"firefox"===r.browser&&57===r.version&&(d=65535);const y=Pe().matchPrefix(a.sdp,"a=max-message-size:");return y.length>0?d=parseInt(y[0].substr(19),10):"firefox"===r.browser&&-1!==v&&(d=2147483637),d},l=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===r.browser&&r.version>=76){const{sdpSemantics:v}=this.getConfiguration();"plan-b"===v&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(u(arguments[0])){const v=t(arguments[0]),d=n(v),y=p(arguments[0],v);let R;R=0===d&&0===y?Number.POSITIVE_INFINITY:0===d||0===y?Math.max(d,y):Math.min(d,y);const S={};Object.defineProperty(S,"maxMessageSize",{get:()=>R}),this._sctp=S}return l.apply(this,arguments)}}function Fe(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function r(t,n){const p=t.send;t.send=function(){const a=arguments[0],v=a.length||a.size||a.byteLength;if("open"===t.readyState&&n.sctp&&v>n.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+n.sctp.maxMessageSize+" bytes)");return p.apply(t,arguments)}}const u=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const n=u.apply(this,arguments);return r(n,this),n},ee(e,"datachannel",t=>(r(t.channel,t.target),t))}function et(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype;Object.defineProperty(r,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(r,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(u){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),u&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=u)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(u=>{const t=r[u];r[u]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=n=>{const p=n.target;if(p._lastConnectionState!==p.connectionState){p._lastConnectionState=p.connectionState;const l=new Event("connectionstatechange",n);p.dispatchEvent(l)}return n},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}})}function s(e,r){if(!e.RTCPeerConnection||"chrome"===r.browser&&r.version>=71||"safari"===r.browser&&r.version>=605)return;const u=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(n){if(n&&n.sdp&&-1!==n.sdp.indexOf("\na=extmap-allow-mixed")){const p=n.sdp.split("\n").filter(l=>"a=extmap-allow-mixed"!==l.trim()).join("\n");e.RTCSessionDescription&&n instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:n.type,sdp:p}):n.sdp=p}return u.apply(this,arguments)}}function f(e,r){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const u=e.RTCPeerConnection.prototype.addIceCandidate;!u||0===u.length||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===r.browser&&r.version<78||"firefox"===r.browser&&r.version<68||"safari"===r.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():u.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function g(e,r){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const u=e.RTCPeerConnection.prototype.setLocalDescription;!u||0===u.length||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let n=arguments[0]||{};if("object"!=typeof n||n.type&&n.sdp)return u.apply(this,arguments);if(n={type:n.type,sdp:n.sdp},!n.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":n.type="offer";break;default:n.type="answer"}return n.sdp||"offer"!==n.type&&"answer"!==n.type?u.apply(this,[n]):("offer"===n.type?this.createOffer:this.createAnswer).apply(this).then(l=>u.apply(this,[l]))})}const P=function m({window:e}={},r={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const u=de,t=function xe(e){const r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;const{navigator:u}=e;if(u.mozGetUserMedia)r.browser="firefox",r.version=w(u.userAgent,/Firefox\/(\d+)\./,1);else if(u.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)r.browser="chrome",r.version=w(u.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!u.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=w(u.userAgent,/AppleWebKit\/(\d+)\./,1),r.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return r}(e),n={browserDetails:t,commonShim:Z,extractVersion:w,disableLog:ue,disableWarnings:le,sdp:lt};switch(t.browser){case"chrome":if(!c||!fe||!r.shimChrome)return u("Chrome shim is not included in this adapter release."),n;if(null===t.version)return u("Chrome shim can not determine version, not shimming."),n;u("adapter.js shimming chrome."),n.browserShim=c,f(e,t),g(e),ze(e,t),Me(e),fe(e,t),je(e),Je(e,t),Ve(e),Oe(e),Be(e),ke(e,t),Ce(e),et(e),Ge(e,t),Fe(e),s(e,t);break;case"firefox":if(!C||!Ae||!r.shimFirefox)return u("Firefox shim is not included in this adapter release."),n;u("adapter.js shimming firefox."),n.browserShim=C,f(e,t),g(e),ye(e,t),Ae(e,t),Te(e),it(e),Ne(e),st(e),Re(e),ot(e),pe(e),Xe(e),Ye(e),Ce(e),et(e),Ge(e,t),Fe(e);break;case"safari":if(!D||!r.shimSafari)return u("Safari shim is not included in this adapter release."),n;u("adapter.js shimming safari."),n.browserShim=D,f(e,t),g(e),ut(e),we(e),at(e),Ke(e),qe(e),Qe(e),$e(e),Ze(e),Ce(e),Ge(e,t),Fe(e),s(e,t);break;default:u("Unsupported browser!")}return n}({window:"undefined"==typeof window?void 0:window})},583:()=>{!function(s){const f=s.performance;function g(Y){f&&f.mark&&f.mark(Y)}function m(Y,x){f&&f.measure&&f.measure(Y,x)}g("Zone");const _=s.__Zone_symbol_prefix||"__zone_symbol__";function P(Y){return _+Y}const e=!0===s[P("forceDuplicateZoneCheck")];if(s.Zone){if(e||"function"!=typeof s.Zone.__symbol__)throw new Error("Zone already loaded.");return s.Zone}let r=(()=>{class Y{constructor(i,h){this._parent=i,this._name=h?h.name||"unnamed":"<root>",this._properties=h&&h.properties||{},this._zoneDelegate=new t(this,this._parent&&this._parent._zoneDelegate,h)}static assertZonePatched(){if(s.Promise!==_e.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let i=Y.current;for(;i.parent;)i=i.parent;return i}static get current(){return te.zone}static get currentTask(){return ve}static __load_patch(i,h,N=!1){if(_e.hasOwnProperty(i)){if(!N&&e)throw Error("Already loaded patch: "+i)}else if(!s["__Zone_disable_"+i]){const H="Zone:"+i;g(H),_e[i]=h(s,Y,oe),m(H,H)}}get parent(){return this._parent}get name(){return this._name}get(i){const h=this.getZoneWith(i);if(h)return h._properties[i]}getZoneWith(i){let h=this;for(;h;){if(h._properties.hasOwnProperty(i))return h;h=h._parent}return null}fork(i){if(!i)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,i)}wrap(i,h){if("function"!=typeof i)throw new Error("Expecting function got: "+i);const N=this._zoneDelegate.intercept(this,i,h),H=this;return function(){return H.runGuarded(N,this,arguments,h)}}run(i,h,N,H){te={parent:te,zone:this};try{return this._zoneDelegate.invoke(this,i,h,N,H)}finally{te=te.parent}}runGuarded(i,h=null,N,H){te={parent:te,zone:this};try{try{return this._zoneDelegate.invoke(this,i,h,N,H)}catch(ce){if(this._zoneDelegate.handleError(this,ce))throw ce}}finally{te=te.parent}}runTask(i,h,N){if(i.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(i.zone||J).name+"; Execution: "+this.name+")");if(i.state===U&&(i.type===he||i.type===F))return;const H=i.state!=j;H&&i._transitionTo(j,K),i.runCount++;const ce=ve;ve=i,te={parent:te,zone:this};try{i.type==F&&i.data&&!i.data.isPeriodic&&(i.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,i,h,N)}catch(b){if(this._zoneDelegate.handleError(this,b))throw b}}finally{i.state!==U&&i.state!==I&&(i.type==he||i.data&&i.data.isPeriodic?H&&i._transitionTo(K,j):(i.runCount=0,this._updateTaskCount(i,-1),H&&i._transitionTo(U,j,U))),te=te.parent,ve=ce}}scheduleTask(i){if(i.zone&&i.zone!==this){let N=this;for(;N;){if(N===i.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${i.zone.name}`);N=N.parent}}i._transitionTo(ie,U);const h=[];i._zoneDelegates=h,i._zone=this;try{i=this._zoneDelegate.scheduleTask(this,i)}catch(N){throw i._transitionTo(I,ie,U),this._zoneDelegate.handleError(this,N),N}return i._zoneDelegates===h&&this._updateTaskCount(i,1),i.state==ie&&i._transitionTo(K,ie),i}scheduleMicroTask(i,h,N,H){return this.scheduleTask(new n(X,i,h,N,H,void 0))}scheduleMacroTask(i,h,N,H,ce){return this.scheduleTask(new n(F,i,h,N,H,ce))}scheduleEventTask(i,h,N,H,ce){return this.scheduleTask(new n(he,i,h,N,H,ce))}cancelTask(i){if(i.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(i.zone||J).name+"; Execution: "+this.name+")");i._transitionTo(q,K,j);try{this._zoneDelegate.cancelTask(this,i)}catch(h){throw i._transitionTo(I,q),this._zoneDelegate.handleError(this,h),h}return this._updateTaskCount(i,-1),i._transitionTo(U,q),i.runCount=0,i}_updateTaskCount(i,h){const N=i._zoneDelegates;-1==h&&(i._zoneDelegates=null);for(let H=0;H<N.length;H++)N[H]._updateTaskCount(i.type,h)}}return Y.__symbol__=P,Y})();const u={name:"",onHasTask:(Y,x,i,h)=>Y.hasTask(i,h),onScheduleTask:(Y,x,i,h)=>Y.scheduleTask(i,h),onInvokeTask:(Y,x,i,h,N,H)=>Y.invokeTask(i,h,N,H),onCancelTask:(Y,x,i,h)=>Y.cancelTask(i,h)};class t{constructor(x,i,h){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=x,this._parentDelegate=i,this._forkZS=h&&(h&&h.onFork?h:i._forkZS),this._forkDlgt=h&&(h.onFork?i:i._forkDlgt),this._forkCurrZone=h&&(h.onFork?this.zone:i._forkCurrZone),this._interceptZS=h&&(h.onIntercept?h:i._interceptZS),this._interceptDlgt=h&&(h.onIntercept?i:i._interceptDlgt),this._interceptCurrZone=h&&(h.onIntercept?this.zone:i._interceptCurrZone),this._invokeZS=h&&(h.onInvoke?h:i._invokeZS),this._invokeDlgt=h&&(h.onInvoke?i:i._invokeDlgt),this._invokeCurrZone=h&&(h.onInvoke?this.zone:i._invokeCurrZone),this._handleErrorZS=h&&(h.onHandleError?h:i._handleErrorZS),this._handleErrorDlgt=h&&(h.onHandleError?i:i._handleErrorDlgt),this._handleErrorCurrZone=h&&(h.onHandleError?this.zone:i._handleErrorCurrZone),this._scheduleTaskZS=h&&(h.onScheduleTask?h:i._scheduleTaskZS),this._scheduleTaskDlgt=h&&(h.onScheduleTask?i:i._scheduleTaskDlgt),this._scheduleTaskCurrZone=h&&(h.onScheduleTask?this.zone:i._scheduleTaskCurrZone),this._invokeTaskZS=h&&(h.onInvokeTask?h:i._invokeTaskZS),this._invokeTaskDlgt=h&&(h.onInvokeTask?i:i._invokeTaskDlgt),this._invokeTaskCurrZone=h&&(h.onInvokeTask?this.zone:i._invokeTaskCurrZone),this._cancelTaskZS=h&&(h.onCancelTask?h:i._cancelTaskZS),this._cancelTaskDlgt=h&&(h.onCancelTask?i:i._cancelTaskDlgt),this._cancelTaskCurrZone=h&&(h.onCancelTask?this.zone:i._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const N=h&&h.onHasTask;(N||i&&i._hasTaskZS)&&(this._hasTaskZS=N?h:u,this._hasTaskDlgt=i,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=x,h.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=i,this._scheduleTaskCurrZone=this.zone),h.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=i,this._invokeTaskCurrZone=this.zone),h.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=i,this._cancelTaskCurrZone=this.zone))}fork(x,i){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,x,i):new r(x,i)}intercept(x,i,h){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,x,i,h):i}invoke(x,i,h,N,H){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,x,i,h,N,H):i.apply(h,N)}handleError(x,i){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,x,i)}scheduleTask(x,i){let h=i;if(this._scheduleTaskZS)this._hasTaskZS&&h._zoneDelegates.push(this._hasTaskDlgtOwner),h=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,x,i),h||(h=i);else if(i.scheduleFn)i.scheduleFn(i);else{if(i.type!=X)throw new Error("Task is missing scheduleFn.");S(i)}return h}invokeTask(x,i,h,N){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,x,i,h,N):i.callback.apply(h,N)}cancelTask(x,i){let h;if(this._cancelTaskZS)h=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,x,i);else{if(!i.cancelFn)throw Error("Task is not cancelable");h=i.cancelFn(i)}return h}hasTask(x,i){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,x,i)}catch(h){this.handleError(x,h)}}_updateTaskCount(x,i){const h=this._taskCounts,N=h[x],H=h[x]=N+i;if(H<0)throw new Error("More tasks executed then were scheduled.");0!=N&&0!=H||this.hasTask(this.zone,{microTask:h.microTask>0,macroTask:h.macroTask>0,eventTask:h.eventTask>0,change:x})}}class n{constructor(x,i,h,N,H,ce){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=x,this.source=i,this.data=N,this.scheduleFn=H,this.cancelFn=ce,!h)throw new Error("callback is not defined");this.callback=h;const b=this;this.invoke=x===he&&N&&N.useG?n.invokeTask:function(){return n.invokeTask.call(s,b,this,arguments)}}static invokeTask(x,i,h){x||(x=this),me++;try{return x.runCount++,x.zone.runTask(x,i,h)}finally{1==me&&k(),me--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(U,ie)}_transitionTo(x,i,h){if(this._state!==i&&this._state!==h)throw new Error(`${this.type} '${this.source}': can not transition to '${x}', expecting state '${i}'${h?" or '"+h+"'":""}, was '${this._state}'.`);this._state=x,x==U&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const p=P("setTimeout"),l=P("Promise"),a=P("then");let y,v=[],d=!1;function R(Y){if(y||s[l]&&(y=s[l].resolve(0)),y){let x=y[a];x||(x=y.then),x.call(y,Y)}else s[p](Y,0)}function S(Y){0===me&&0===v.length&&R(k),Y&&v.push(Y)}function k(){if(!d){for(d=!0;v.length;){const Y=v;v=[];for(let x=0;x<Y.length;x++){const i=Y[x];try{i.zone.runTask(i,null,null)}catch(h){oe.onUnhandledError(h)}}}oe.microtaskDrainDone(),d=!1}}const J={name:"NO ZONE"},U="notScheduled",ie="scheduling",K="scheduled",j="running",q="canceling",I="unknown",X="microTask",F="macroTask",he="eventTask",_e={},oe={symbol:P,currentZoneFrame:()=>te,onUnhandledError:re,microtaskDrainDone:re,scheduleMicroTask:S,showUncaughtError:()=>!r[P("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:re,patchMethod:()=>re,bindArguments:()=>[],patchThen:()=>re,patchMacroTask:()=>re,patchEventPrototype:()=>re,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>re,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>re,wrapWithCurrentZone:()=>re,filterProperties:()=>[],attachOriginToPatched:()=>re,_redefineProperty:()=>re,patchCallbacks:()=>re,nativeScheduleMicroTask:R};let te={parent:null,zone:new r(null,null)},ve=null,me=0;function re(){}m("Zone","Zone"),s.Zone=r}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ge=Object.getOwnPropertyDescriptor,E=Object.defineProperty,o=Object.getPrototypeOf,c=Object.create,C=Array.prototype.slice,D="addEventListener",Z="removeEventListener",ne=Zone.__symbol__(D),ae=Zone.__symbol__(Z),w="true",ee="false",ue=Zone.__symbol__("");function le(s,f){return Zone.current.wrap(s,f)}function de(s,f,g,m,_){return Zone.current.scheduleMacroTask(s,f,g,m,_)}const W=Zone.__symbol__,xe="undefined"!=typeof window,Se=xe?window:void 0,se=xe&&Se||"object"==typeof self&&self||global;function Le(s,f){for(let g=s.length-1;g>=0;g--)"function"==typeof s[g]&&(s[g]=le(s[g],f+"_"+g));return s}function ze(s){return!s||!1!==s.writable&&!("function"==typeof s.get&&void 0===s.set)}const nt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Me=!("nw"in se)&&void 0!==se.process&&"[object process]"==={}.toString.call(se.process),je=!Me&&!nt&&!(!xe||!Se.HTMLElement),Ve=void 0!==se.process&&"[object process]"==={}.toString.call(se.process)&&!nt&&!(!xe||!Se.HTMLElement),Oe={},Be=function(s){if(!(s=s||se.event))return;let f=Oe[s.type];f||(f=Oe[s.type]=W("ON_PROPERTY"+s.type));const g=this||s.target||se,m=g[f];let _;if(je&&g===Se&&"error"===s.type){const P=s;_=m&&m.call(this,P.message,P.filename,P.lineno,P.colno,P.error),!0===_&&s.preventDefault()}else _=m&&m.apply(this,arguments),null!=_&&!_&&s.preventDefault();return _};function We(s,f,g){let m=ge(s,f);if(!m&&g&&ge(g,f)&&(m={enumerable:!0,configurable:!0}),!m||!m.configurable)return;const _=W("on"+f+"patched");if(s.hasOwnProperty(_)&&s[_])return;delete m.writable,delete m.value;const P=m.get,e=m.set,r=f.slice(2);let u=Oe[r];u||(u=Oe[r]=W("ON_PROPERTY"+r)),m.set=function(t){let n=this;!n&&s===se&&(n=se),n&&("function"==typeof n[u]&&n.removeEventListener(r,Be),e&&e.call(n,null),n[u]=t,"function"==typeof t&&n.addEventListener(r,Be,!1))},m.get=function(){let t=this;if(!t&&s===se&&(t=se),!t)return null;const n=t[u];if(n)return n;if(P){let p=P.call(this);if(p)return m.set.call(this,p),"function"==typeof t.removeAttribute&&t.removeAttribute(f),p}return null},E(s,f,m),s[_]=!0}function Je(s,f,g){if(f)for(let m=0;m<f.length;m++)We(s,"on"+f[m],g);else{const m=[];for(const _ in s)"on"==_.slice(0,2)&&m.push(_);for(let _=0;_<m.length;_++)We(s,m[_],g)}}const fe=W("originalInstance");function ke(s){const f=se[s];if(!f)return;se[W(s)]=f,se[s]=function(){const _=Le(arguments,s);switch(_.length){case 0:this[fe]=new f;break;case 1:this[fe]=new f(_[0]);break;case 2:this[fe]=new f(_[0],_[1]);break;case 3:this[fe]=new f(_[0],_[1],_[2]);break;case 4:this[fe]=new f(_[0],_[1],_[2],_[3]);break;default:throw new Error("Arg list too long.")}},Te(se[s],f);const g=new f(function(){});let m;for(m in g)"XMLHttpRequest"===s&&"responseBlob"===m||function(_){"function"==typeof g[_]?se[s].prototype[_]=function(){return this[fe][_].apply(this[fe],arguments)}:E(se[s].prototype,_,{set:function(P){"function"==typeof P?(this[fe][_]=le(P,s+"."+_),Te(this[fe][_],P)):this[fe][_]=P},get:function(){return this[fe][_]}})}(m);for(m in f)"prototype"!==m&&f.hasOwnProperty(m)&&(se[s][m]=f[m])}function ye(s,f,g){let m=s;for(;m&&!m.hasOwnProperty(f);)m=o(m);!m&&s[f]&&(m=s);const _=W(f);let P=null;if(m&&(!(P=m[_])||!m.hasOwnProperty(_))&&(P=m[_]=m[f],ze(m&&ge(m,f)))){const r=g(P,_,f);m[f]=function(){return r(this,arguments)},Te(m[f],P)}return P}function pt(s,f,g){let m=null;function _(P){const e=P.data;return e.args[e.cbIdx]=function(){P.invoke.apply(this,arguments)},m.apply(e.target,e.args),P}m=ye(s,f,P=>function(e,r){const u=g(e,r);return u.cbIdx>=0&&"function"==typeof r[u.cbIdx]?de(u.name,r[u.cbIdx],u,_):P.apply(e,r)})}function Te(s,f){s[W("OriginalDelegate")]=f}let Ae=!1,Ne=!1;function it(){if(Ae)return Ne;Ae=!0;try{const s=Se.navigator.userAgent;(-1!==s.indexOf("MSIE ")||-1!==s.indexOf("Trident/")||-1!==s.indexOf("Edge/"))&&(Ne=!0)}catch(s){}return Ne}Zone.__load_patch("ZoneAwarePromise",(s,f,g)=>{const m=Object.getOwnPropertyDescriptor,_=Object.defineProperty,e=g.symbol,r=[],u=!0===s[e("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],t=e("Promise"),n=e("then");g.onUnhandledError=b=>{if(g.showUncaughtError()){const M=b&&b.rejection;M?console.error("Unhandled Promise rejection:",M instanceof Error?M.message:M,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",M,M instanceof Error?M.stack:void 0):console.error(b)}},g.microtaskDrainDone=()=>{for(;r.length;){const b=r.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(M){a(M)}}};const l=e("unhandledPromiseRejectionHandler");function a(b){g.onUnhandledError(b);try{const M=f[l];"function"==typeof M&&M.call(this,b)}catch(M){}}function v(b){return b&&b.then}function d(b){return b}function y(b){return i.reject(b)}const R=e("state"),S=e("value"),k=e("finally"),J=e("parentPromiseValue"),U=e("parentPromiseState"),K=null,j=!0,q=!1;function X(b,M){return T=>{try{oe(b,M,T)}catch(O){oe(b,!1,O)}}}const F=function(){let b=!1;return function(T){return function(){b||(b=!0,T.apply(null,arguments))}}},_e=e("currentTaskTrace");function oe(b,M,T){const O=F();if(b===T)throw new TypeError("Promise resolved with itself");if(b[R]===K){let A=null;try{("object"==typeof T||"function"==typeof T)&&(A=T&&T.then)}catch(G){return O(()=>{oe(b,!1,G)})(),b}if(M!==q&&T instanceof i&&T.hasOwnProperty(R)&&T.hasOwnProperty(S)&&T[R]!==K)ve(T),oe(b,T[R],T[S]);else if(M!==q&&"function"==typeof A)try{A.call(T,O(X(b,M)),O(X(b,!1)))}catch(G){O(()=>{oe(b,!1,G)})()}else{b[R]=M;const G=b[S];if(b[S]=T,b[k]===k&&M===j&&(b[R]=b[U],b[S]=b[J]),M===q&&T instanceof Error){const L=f.currentTask&&f.currentTask.data&&f.currentTask.data.__creationTrace__;L&&_(T,_e,{configurable:!0,enumerable:!1,writable:!0,value:L})}for(let L=0;L<G.length;)me(b,G[L++],G[L++],G[L++],G[L++]);if(0==G.length&&M==q){b[R]=0;let L=T;try{throw new Error("Uncaught (in promise): "+function P(b){return b&&b.toString===Object.prototype.toString?(b.constructor&&b.constructor.name||"")+": "+JSON.stringify(b):b?b.toString():Object.prototype.toString.call(b)}(T)+(T&&T.stack?"\n"+T.stack:""))}catch(z){L=z}u&&(L.throwOriginal=!0),L.rejection=T,L.promise=b,L.zone=f.current,L.task=f.currentTask,r.push(L),g.scheduleMicroTask()}}}return b}const te=e("rejectionHandledHandler");function ve(b){if(0===b[R]){try{const M=f[te];M&&"function"==typeof M&&M.call(this,{rejection:b[S],promise:b})}catch(M){}b[R]=q;for(let M=0;M<r.length;M++)b===r[M].promise&&r.splice(M,1)}}function me(b,M,T,O,A){ve(b);const G=b[R],L=G?"function"==typeof O?O:d:"function"==typeof A?A:y;M.scheduleMicroTask("Promise.then",()=>{try{const z=b[S],V=!!T&&k===T[k];V&&(T[J]=z,T[U]=G);const B=M.run(L,void 0,V&&L!==y&&L!==d?[]:[z]);oe(T,!0,B)}catch(z){oe(T,!1,z)}},T)}const Y=function(){},x=s.AggregateError;class i{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(M){return oe(new this(null),j,M)}static reject(M){return oe(new this(null),q,M)}static any(M){if(!M||"function"!=typeof M[Symbol.iterator])return Promise.reject(new x([],"All promises were rejected"));const T=[];let O=0;try{for(let L of M)O++,T.push(i.resolve(L))}catch(L){return Promise.reject(new x([],"All promises were rejected"))}if(0===O)return Promise.reject(new x([],"All promises were rejected"));let A=!1;const G=[];return new i((L,z)=>{for(let V=0;V<T.length;V++)T[V].then(B=>{A||(A=!0,L(B))},B=>{G.push(B),O--,0===O&&(A=!0,z(new x(G,"All promises were rejected")))})})}static race(M){let T,O,A=new this((z,V)=>{T=z,O=V});function G(z){T(z)}function L(z){O(z)}for(let z of M)v(z)||(z=this.resolve(z)),z.then(G,L);return A}static all(M){return i.allWithCallback(M)}static allSettled(M){return(this&&this.prototype instanceof i?this:i).allWithCallback(M,{thenCallback:O=>({status:"fulfilled",value:O}),errorCallback:O=>({status:"rejected",reason:O})})}static allWithCallback(M,T){let O,A,G=new this((B,$)=>{O=B,A=$}),L=2,z=0;const V=[];for(let B of M){v(B)||(B=this.resolve(B));const $=z;try{B.then(Q=>{V[$]=T?T.thenCallback(Q):Q,L--,0===L&&O(V)},Q=>{T?(V[$]=T.errorCallback(Q),L--,0===L&&O(V)):A(Q)})}catch(Q){A(Q)}L++,z++}return L-=2,0===L&&O(V),G}constructor(M){const T=this;if(!(T instanceof i))throw new Error("Must be an instanceof Promise.");T[R]=K,T[S]=[];try{const O=F();M&&M(O(X(T,j)),O(X(T,q)))}catch(O){oe(T,!1,O)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return i}then(M,T){var O;let A=null===(O=this.constructor)||void 0===O?void 0:O[Symbol.species];(!A||"function"!=typeof A)&&(A=this.constructor||i);const G=new A(Y),L=f.current;return this[R]==K?this[S].push(L,G,M,T):me(this,L,G,M,T),G}catch(M){return this.then(null,M)}finally(M){var T;let O=null===(T=this.constructor)||void 0===T?void 0:T[Symbol.species];(!O||"function"!=typeof O)&&(O=i);const A=new O(Y);A[k]=k;const G=f.current;return this[R]==K?this[S].push(G,A,M,M):me(this,G,A,M,M),A}}i.resolve=i.resolve,i.reject=i.reject,i.race=i.race,i.all=i.all;const h=s[t]=s.Promise;s.Promise=i;const N=e("thenPatched");function H(b){const M=b.prototype,T=m(M,"then");if(T&&(!1===T.writable||!T.configurable))return;const O=M.then;M[n]=O,b.prototype.then=function(A,G){return new i((z,V)=>{O.call(this,z,V)}).then(A,G)},b[N]=!0}return g.patchThen=H,h&&(H(h),ye(s,"fetch",b=>function ce(b){return function(M,T){let O=b.apply(M,T);if(O instanceof i)return O;let A=O.constructor;return A[N]||H(A),O}}(b))),Promise[f.__symbol__("uncaughtPromiseErrors")]=r,i}),Zone.__load_patch("toString",s=>{const f=Function.prototype.toString,g=W("OriginalDelegate"),m=W("Promise"),_=W("Error"),P=function(){if("function"==typeof this){const t=this[g];if(t)return"function"==typeof t?f.call(t):Object.prototype.toString.call(t);if(this===Promise){const n=s[m];if(n)return f.call(n)}if(this===Error){const n=s[_];if(n)return f.call(n)}}return f.call(this)};P[g]=f,Function.prototype.toString=P;const e=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":e.call(this)}});let Re=!1;if("undefined"!=typeof window)try{const s=Object.defineProperty({},"passive",{get:function(){Re=!0}});window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch(s){Re=!1}const ot={useG:!0},pe={},Xe={},Ye=new RegExp("^"+ue+"(\\w+)(true|false)$"),Ke=W("propagationStopped");function qe(s,f){const g=(f?f(s):s)+ee,m=(f?f(s):s)+w,_=ue+g,P=ue+m;pe[s]={},pe[s][ee]=_,pe[s][w]=P}function at(s,f,g,m){const _=m&&m.add||D,P=m&&m.rm||Z,e=m&&m.listeners||"eventListeners",r=m&&m.rmAll||"removeAllListeners",u=W(_),t="."+_+":",l=function(S,k,J){if(S.isRemoved)return;const U=S.callback;let ie;"object"==typeof U&&U.handleEvent&&(S.callback=j=>U.handleEvent(j),S.originalDelegate=U);try{S.invoke(S,k,[J])}catch(j){ie=j}const K=S.options;return K&&"object"==typeof K&&K.once&&k[P].call(k,J.type,S.originalDelegate?S.originalDelegate:S.callback,K),ie};function a(S,k,J){if(!(k=k||s.event))return;const U=S||k.target||s,ie=U[pe[k.type][J?w:ee]];if(ie){const K=[];if(1===ie.length){const j=l(ie[0],U,k);j&&K.push(j)}else{const j=ie.slice();for(let q=0;q<j.length&&(!k||!0!==k[Ke]);q++){const I=l(j[q],U,k);I&&K.push(I)}}if(1===K.length)throw K[0];for(let j=0;j<K.length;j++){const q=K[j];f.nativeScheduleMicroTask(()=>{throw q})}}}const v=function(S){return a(this,S,!1)},d=function(S){return a(this,S,!0)};function y(S,k){if(!S)return!1;let J=!0;k&&void 0!==k.useG&&(J=k.useG);const U=k&&k.vh;let ie=!0;k&&void 0!==k.chkDup&&(ie=k.chkDup);let K=!1;k&&void 0!==k.rt&&(K=k.rt);let j=S;for(;j&&!j.hasOwnProperty(_);)j=o(j);if(!j&&S[_]&&(j=S),!j||j[u])return!1;const q=k&&k.eventNameToString,I={},X=j[u]=j[_],F=j[W(P)]=j[P],he=j[W(e)]=j[e],_e=j[W(r)]=j[r];let oe;function te(T,O){return!Re&&"object"==typeof T&&T?!!T.capture:Re&&O?"boolean"==typeof T?{capture:T,passive:!0}:T?"object"==typeof T&&!1!==T.passive?Object.assign(Object.assign({},T),{passive:!0}):T:{passive:!0}:T}k&&k.prepend&&(oe=j[W(k.prepend)]=j[k.prepend]);const i=J?function(T){if(!I.isExisting)return X.call(I.target,I.eventName,I.capture?d:v,I.options)}:function(T){return X.call(I.target,I.eventName,T.invoke,I.options)},h=J?function(T){if(!T.isRemoved){const O=pe[T.eventName];let A;O&&(A=O[T.capture?w:ee]);const G=A&&T.target[A];if(G)for(let L=0;L<G.length;L++)if(G[L]===T){G.splice(L,1),T.isRemoved=!0,0===G.length&&(T.allRemoved=!0,T.target[A]=null);break}}if(T.allRemoved)return F.call(T.target,T.eventName,T.capture?d:v,T.options)}:function(T){return F.call(T.target,T.eventName,T.invoke,T.options)},H=k&&k.diff?k.diff:function(T,O){const A=typeof O;return"function"===A&&T.callback===O||"object"===A&&T.originalDelegate===O},ce=Zone[W("UNPATCHED_EVENTS")],b=s[W("PASSIVE_EVENTS")],M=function(T,O,A,G,L=!1,z=!1){return function(){const V=this||s;let B=arguments[0];k&&k.transferEventName&&(B=k.transferEventName(B));let $=arguments[1];if(!$)return T.apply(this,arguments);if(Me&&"uncaughtException"===B)return T.apply(this,arguments);let Q=!1;if("function"!=typeof $){if(!$.handleEvent)return T.apply(this,arguments);Q=!0}if(U&&!U(T,$,V,arguments))return;const be=Re&&!!b&&-1!==b.indexOf(B),Ee=te(arguments[2],be);if(ce)for(let Ie=0;Ie<ce.length;Ie++)if(B===ce[Ie])return be?T.call(V,B,$,Ee):T.apply(this,arguments);const ht=!!Ee&&("boolean"==typeof Ee||Ee.capture),mt=!(!Ee||"object"!=typeof Ee)&&Ee.once,vt=Zone.current;let dt=pe[B];dt||(qe(B,q),dt=pe[B]);const gt=dt[ht?w:ee];let ft,Ue=V[gt],yt=!1;if(Ue){if(yt=!0,ie)for(let Ie=0;Ie<Ue.length;Ie++)if(H(Ue[Ie],$))return}else Ue=V[gt]=[];const Tt=V.constructor.name,Ct=Xe[Tt];Ct&&(ft=Ct[B]),ft||(ft=Tt+O+(q?q(B):B)),I.options=Ee,mt&&(I.options.once=!1),I.target=V,I.capture=ht,I.eventName=B,I.isExisting=yt;const tt=J?ot:void 0;tt&&(tt.taskData=I);const De=vt.scheduleEventTask(ft,$,tt,A,G);return I.target=null,tt&&(tt.taskData=null),mt&&(Ee.once=!0),!Re&&"boolean"==typeof De.options||(De.options=Ee),De.target=V,De.capture=ht,De.eventName=B,Q&&(De.originalDelegate=$),z?Ue.unshift(De):Ue.push(De),L?V:void 0}};return j[_]=M(X,t,i,h,K),oe&&(j.prependListener=M(oe,".prependListener:",function(T){return oe.call(I.target,I.eventName,T.invoke,I.options)},h,K,!0)),j[P]=function(){const T=this||s;let O=arguments[0];k&&k.transferEventName&&(O=k.transferEventName(O));const A=arguments[2],G=!!A&&("boolean"==typeof A||A.capture),L=arguments[1];if(!L)return F.apply(this,arguments);if(U&&!U(F,L,T,arguments))return;const z=pe[O];let V;z&&(V=z[G?w:ee]);const B=V&&T[V];if(B)for(let $=0;$<B.length;$++){const Q=B[$];if(H(Q,L))return B.splice($,1),Q.isRemoved=!0,0===B.length&&(Q.allRemoved=!0,T[V]=null,"string"==typeof O)&&(T[ue+"ON_PROPERTY"+O]=null),Q.zone.cancelTask(Q),K?T:void 0}return F.apply(this,arguments)},j[e]=function(){const T=this||s;let O=arguments[0];k&&k.transferEventName&&(O=k.transferEventName(O));const A=[],G=$e(T,q?q(O):O);for(let L=0;L<G.length;L++){const z=G[L];A.push(z.originalDelegate?z.originalDelegate:z.callback)}return A},j[r]=function(){const T=this||s;let O=arguments[0];if(O){k&&k.transferEventName&&(O=k.transferEventName(O));const A=pe[O];if(A){const z=T[A[ee]],V=T[A[w]];if(z){const B=z.slice();for(let $=0;$<B.length;$++){const Q=B[$];this[P].call(this,O,Q.originalDelegate?Q.originalDelegate:Q.callback,Q.options)}}if(V){const B=V.slice();for(let $=0;$<B.length;$++){const Q=B[$];this[P].call(this,O,Q.originalDelegate?Q.originalDelegate:Q.callback,Q.options)}}}}else{const A=Object.keys(T);for(let G=0;G<A.length;G++){const z=Ye.exec(A[G]);let V=z&&z[1];V&&"removeListener"!==V&&this[r].call(this,V)}this[r].call(this,"removeListener")}if(K)return this},Te(j[_],X),Te(j[P],F),_e&&Te(j[r],_e),he&&Te(j[e],he),!0}let R=[];for(let S=0;S<g.length;S++)R[S]=y(g[S],m);return R}function $e(s,f){if(!f){const P=[];for(let e in s){const r=Ye.exec(e);let u=r&&r[1];if(u&&(!f||u===f)){const t=s[e];if(t)for(let n=0;n<t.length;n++)P.push(t[n])}}return P}let g=pe[f];g||(qe(f),g=pe[f]);const m=s[g[ee]],_=s[g[w]];return m?_?m.concat(_):m.slice():_?_.slice():[]}function ct(s,f){const g=s.Event;g&&g.prototype&&f.patchMethod(g.prototype,"stopImmediatePropagation",m=>function(_,P){_[Ke]=!0,m&&m.apply(_,P)})}function ut(s,f,g,m,_){const P=Zone.__symbol__(m);if(f[P])return;const e=f[P]=f[m];f[m]=function(r,u,t){return u&&u.prototype&&_.forEach(function(n){const p=`${g}.${m}::`+n,l=u.prototype;try{if(l.hasOwnProperty(n)){const a=s.ObjectGetOwnPropertyDescriptor(l,n);a&&a.value?(a.value=s.wrapWithCurrentZone(a.value,p),s._redefineProperty(u.prototype,n,a)):l[n]&&(l[n]=s.wrapWithCurrentZone(l[n],p))}else l[n]&&(l[n]=s.wrapWithCurrentZone(l[n],p))}catch(a){}}),e.call(f,r,u,t)},s.attachOriginToPatched(f[m],e)}function Qe(s,f,g){if(!g||0===g.length)return f;const m=g.filter(P=>P.target===s);if(!m||0===m.length)return f;const _=m[0].ignoreProperties;return f.filter(P=>-1===_.indexOf(P))}function we(s,f,g,m){s&&Je(s,Qe(s,f,g),m)}function Ze(s){return Object.getOwnPropertyNames(s).filter(f=>f.startsWith("on")&&f.length>2).map(f=>f.substring(2))}Zone.__load_patch("util",(s,f,g)=>{const m=Ze(s);g.patchOnProperties=Je,g.patchMethod=ye,g.bindArguments=Le,g.patchMacroTask=pt;const _=f.__symbol__("BLACK_LISTED_EVENTS"),P=f.__symbol__("UNPATCHED_EVENTS");s[P]&&(s[_]=s[P]),s[_]&&(f[_]=f[P]=s[_]),g.patchEventPrototype=ct,g.patchEventTarget=at,g.isIEOrEdge=it,g.ObjectDefineProperty=E,g.ObjectGetOwnPropertyDescriptor=ge,g.ObjectCreate=c,g.ArraySlice=C,g.patchClass=ke,g.wrapWithCurrentZone=le,g.filterProperties=Qe,g.attachOriginToPatched=Te,g._redefineProperty=Object.defineProperty,g.patchCallbacks=ut,g.getGlobalObjects=()=>({globalSources:Xe,zoneSymbolEventNames:pe,eventNames:m,isBrowser:je,isMix:Ve,isNode:Me,TRUE_STR:w,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:ue,ADD_EVENT_LISTENER_STR:D,REMOVE_EVENT_LISTENER_STR:Z})});const Pe=W("zoneTask");function Ce(s,f,g,m){let _=null,P=null;g+=m;const e={};function r(t){const n=t.data;return n.args[0]=function(){return t.invoke.apply(this,arguments)},n.handleId=_.apply(s,n.args),t}function u(t){return P.call(s,t.data.handleId)}_=ye(s,f+=m,t=>function(n,p){if("function"==typeof p[0]){const l={isPeriodic:"Interval"===m,delay:"Timeout"===m||"Interval"===m?p[1]||0:void 0,args:p},a=p[0];p[0]=function(){try{return a.apply(this,arguments)}finally{l.isPeriodic||("number"==typeof l.handleId?delete e[l.handleId]:l.handleId&&(l.handleId[Pe]=null))}};const v=de(f,p[0],l,r,u);if(!v)return v;const d=v.data.handleId;return"number"==typeof d?e[d]=v:d&&(d[Pe]=v),d&&d.ref&&d.unref&&"function"==typeof d.ref&&"function"==typeof d.unref&&(v.ref=d.ref.bind(d),v.unref=d.unref.bind(d)),"number"==typeof d||d?d:v}return t.apply(s,p)}),P=ye(s,g,t=>function(n,p){const l=p[0];let a;"number"==typeof l?a=e[l]:(a=l&&l[Pe],a||(a=l)),a&&"string"==typeof a.type?"notScheduled"!==a.state&&(a.cancelFn&&a.data.isPeriodic||0===a.runCount)&&("number"==typeof l?delete e[l]:l&&(l[Pe]=null),a.zone.cancelTask(a)):t.apply(s,p)})}Zone.__load_patch("legacy",s=>{const f=s[Zone.__symbol__("legacyPatch")];f&&f()}),Zone.__load_patch("queueMicrotask",(s,f,g)=>{g.patchMethod(s,"queueMicrotask",m=>function(_,P){f.current.scheduleMicroTask("queueMicrotask",P[0])})}),Zone.__load_patch("timers",s=>{const f="set",g="clear";Ce(s,f,g,"Timeout"),Ce(s,f,g,"Interval"),Ce(s,f,g,"Immediate")}),Zone.__load_patch("requestAnimationFrame",s=>{Ce(s,"request","cancel","AnimationFrame"),Ce(s,"mozRequest","mozCancel","AnimationFrame"),Ce(s,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(s,f)=>{const g=["alert","prompt","confirm"];for(let m=0;m<g.length;m++)ye(s,g[m],(P,e,r)=>function(u,t){return f.current.run(P,s,t,r)})}),Zone.__load_patch("EventTarget",(s,f,g)=>{(function et(s,f){f.patchEventPrototype(s,f)})(s,g),function Fe(s,f){if(Zone[f.symbol("patchEventTarget")])return;const{eventNames:g,zoneSymbolEventNames:m,TRUE_STR:_,FALSE_STR:P,ZONE_SYMBOL_PREFIX:e}=f.getGlobalObjects();for(let u=0;u<g.length;u++){const t=g[u],l=e+(t+P),a=e+(t+_);m[t]={},m[t][P]=l,m[t][_]=a}const r=s.EventTarget;r&&r.prototype&&f.patchEventTarget(s,f,[r&&r.prototype])}(s,g);const m=s.XMLHttpRequestEventTarget;m&&m.prototype&&g.patchEventTarget(s,g,[m.prototype])}),Zone.__load_patch("MutationObserver",(s,f,g)=>{ke("MutationObserver"),ke("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(s,f,g)=>{ke("IntersectionObserver")}),Zone.__load_patch("FileReader",(s,f,g)=>{ke("FileReader")}),Zone.__load_patch("on_property",(s,f,g)=>{!function lt(s,f){if(Me&&!Ve||Zone[s.symbol("patchEvents")])return;const g=f.__Zone_ignore_on_properties;let m=[];if(je){const _=window;m=m.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const P=function st(){try{const s=Se.navigator.userAgent;if(-1!==s.indexOf("MSIE ")||-1!==s.indexOf("Trident/"))return!0}catch(s){}return!1}()?[{target:_,ignoreProperties:["error"]}]:[];we(_,Ze(_),g&&g.concat(P),o(_))}m=m.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let _=0;_<m.length;_++){const P=f[m[_]];P&&P.prototype&&we(P.prototype,Ze(P.prototype),g)}}(g,s)}),Zone.__load_patch("customElements",(s,f,g)=>{!function Ge(s,f){const{isBrowser:g,isMix:m}=f.getGlobalObjects();(g||m)&&s.customElements&&"customElements"in s&&f.patchCallbacks(f,s.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(s,g)}),Zone.__load_patch("XHR",(s,f)=>{!function u(t){const n=t.XMLHttpRequest;if(!n)return;const p=n.prototype;let a=p[ne],v=p[ae];if(!a){const I=t.XMLHttpRequestEventTarget;if(I){const X=I.prototype;a=X[ne],v=X[ae]}}const d="readystatechange",y="scheduled";function R(I){const X=I.data,F=X.target;F[P]=!1,F[r]=!1;const he=F[_];a||(a=F[ne],v=F[ae]),he&&v.call(F,d,he);const _e=F[_]=()=>{if(F.readyState===F.DONE)if(!X.aborted&&F[P]&&I.state===y){const te=F[f.__symbol__("loadfalse")];if(0!==F.status&&te&&te.length>0){const ve=I.invoke;I.invoke=function(){const me=F[f.__symbol__("loadfalse")];for(let re=0;re<me.length;re++)me[re]===I&&me.splice(re,1);!X.aborted&&I.state===y&&ve.call(I)},te.push(I)}else I.invoke()}else!X.aborted&&!1===F[P]&&(F[r]=!0)};return a.call(F,d,_e),F[g]||(F[g]=I),j.apply(F,X.args),F[P]=!0,I}function S(){}function k(I){const X=I.data;return X.aborted=!0,q.apply(X.target,X.args)}const J=ye(p,"open",()=>function(I,X){return I[m]=0==X[2],I[e]=X[1],J.apply(I,X)}),ie=W("fetchTaskAborting"),K=W("fetchTaskScheduling"),j=ye(p,"send",()=>function(I,X){if(!0===f.current[K]||I[m])return j.apply(I,X);{const F={target:I,url:I[e],isPeriodic:!1,args:X,aborted:!1},he=de("XMLHttpRequest.send",S,F,R,k);I&&!0===I[r]&&!F.aborted&&he.state===y&&he.invoke()}}),q=ye(p,"abort",()=>function(I,X){const F=function l(I){return I[g]}(I);if(F&&"string"==typeof F.type){if(null==F.cancelFn||F.data&&F.data.aborted)return;F.zone.cancelTask(F)}else if(!0===f.current[ie])return q.apply(I,X)})}(s);const g=W("xhrTask"),m=W("xhrSync"),_=W("xhrListener"),P=W("xhrScheduled"),e=W("xhrURL"),r=W("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",s=>{s.navigator&&s.navigator.geolocation&&function rt(s,f){const g=s.constructor.name;for(let m=0;m<f.length;m++){const _=f[m],P=s[_];if(P){if(!ze(ge(s,_)))continue;s[_]=(r=>{const u=function(){return r.apply(this,Le(arguments,g+"."+_))};return Te(u,r),u})(P)}}}(s.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(s,f)=>{function g(m){return function(_){$e(s,m).forEach(e=>{const r=s.PromiseRejectionEvent;if(r){const u=new r(m,{promise:_.promise,reason:_.rejection});e.invoke(u)}})}}s.PromiseRejectionEvent&&(f[W("unhandledPromiseRejectionHandler")]=g("unhandledrejection"),f[W("rejectionHandledHandler")]=g("rejectionhandled"))})}},ge=>{ge(ge.s=435)}]);